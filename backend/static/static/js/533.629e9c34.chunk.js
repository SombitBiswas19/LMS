"use strict";(self.webpackChunklearnalytics_frontend=self.webpackChunklearnalytics_frontend||[]).push([[533],{712:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},1620:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},1701:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},1969:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},2380:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3458:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3460:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]])},3666:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},6339:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7533:(e,s,l)=>{l.r(s),l.d(s,{default:()=>F});var t=l(5043),r=l(5475),a=l(3216),n=l(5300),i=l(2380),o=l(9256),c=l(1172),d=l(3797);const u=(0,d.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var x=l(3666);const m=(0,d.A)("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]);var g=l(1620),h=l(3460),b=l(1969);const y=(0,d.A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var p=l(6339),f=l(3458),v=l(8112),j=l(712),N=l(1701),w=l(9621),k=l(3768),C=l(579);const A=e=>{let{label:s,value:l,onChange:t,options:r}=e;return(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),(0,C.jsx)("select",{value:l,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:r.map(e=>(0,C.jsx)("option",{value:e.value,children:e.label},e.value))})]})},_=e=>{var s;let{course:l,user:t,isEnrolled:r,isEnrolling:a,progress:o,onEnroll:c,onEdit:d,onDelete:u,navigate:x}=e;const m=()=>{(r||"admin"===(null===t||void 0===t?void 0:t.role))&&x(`/course/${l.id}`)};return(0,C.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100",children:[(0,C.jsxs)("div",{className:"h-48 bg-gradient-to-r from-blue-500 to-purple-600 relative overflow-hidden",children:[l.thumbnail_url?(0,C.jsx)("img",{src:l.thumbnail_url,alt:l.title,className:"w-full h-full object-cover transition-transform hover:scale-110"}):(0,C.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,C.jsx)(n.A,{className:"h-16 w-16 text-white opacity-50"})}),(0,C.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col space-y-2",children:[l.is_featured&&(0,C.jsxs)("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center",children:[(0,C.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"Featured"]}),l.is_free&&(0,C.jsx)("span",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Free"})]}),"admin"===(null===t||void 0===t?void 0:t.role)&&(0,C.jsxs)("div",{className:"absolute top-3 right-3 flex space-x-2",children:[(0,C.jsx)("button",{onClick:e=>{e.stopPropagation(),d()},className:"p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all shadow-lg",children:(0,C.jsx)(y,{className:"h-4 w-4 text-gray-600"})}),(0,C.jsx)("button",{onClick:e=>{e.stopPropagation(),u()},className:"p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all shadow-lg",children:(0,C.jsx)(p.A,{className:"h-4 w-4 text-red-600"})})]}),r&&"student"===(null===t||void 0===t?void 0:t.role)&&(0,C.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-2",children:[(0,C.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,C.jsx)("span",{children:"Progress"}),(0,C.jsxs)("span",{children:[Math.round(o),"%"]})]}),(0,C.jsx)("div",{className:"w-full bg-gray-300 rounded-full h-1",children:(0,C.jsx)("div",{className:"bg-blue-400 h-1 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]})]}),(0,C.jsxs)("div",{className:"p-6",children:[(0,C.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,C.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 hover:text-blue-600 transition-colors cursor-pointer",children:l.title}),(0,C.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"}[l.difficulty_level]} flex-shrink-0 ml-2`,children:l.difficulty_level})]}),(0,C.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:l.description}),(0,C.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-4 space-x-4",children:[(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)(f.A,{className:"h-4 w-4 mr-1"}),l.duration_hours,"h"]}),(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)(v.A,{className:"h-4 w-4 mr-1"}),l.enrollment_count]}),(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)(j.A,{className:"h-4 w-4 mr-1 text-yellow-500 fill-current"}),(null===(s=l.rating)||void 0===s?void 0:s.toFixed(1))||"N/A"]})]}),(0,C.jsxs)("div",{className:"flex items-center mb-4",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-2",children:(0,C.jsx)(v.A,{className:"h-4 w-4 text-gray-600"})}),(0,C.jsx)("span",{className:"text-sm text-gray-700",children:l.instructor})]}),l.tags&&l.tags.length>0&&(0,C.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.tags.slice(0,3).map((e,s)=>(0,C.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200 transition-colors",children:e},s)),l.tags.length>3&&(0,C.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:["+",l.tags.length-3," more"]})]}),(0,C.jsx)("div",{className:"flex justify-between items-center",children:"admin"===(null===t||void 0===t?void 0:t.role)?(0,C.jsxs)("button",{onClick:m,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex-1",children:[(0,C.jsx)(y,{className:"h-4 w-4 mr-2"}),"Manage Course"]}):r?(0,C.jsxs)("button",{onClick:m,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-1",children:[(0,C.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Continue Learning"]}):(0,C.jsx)("button",{onClick:c,disabled:a,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-1",children:a?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enrolling..."]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Enroll Now"]})})})]})]})},S=e=>{var s,l;let{course:t,user:r,isEnrolled:a,isEnrolling:o,progress:c,onEnroll:d,navigate:u}=e;return(0,C.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:(0,C.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,C.jsx)("div",{className:"w-24 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex-shrink-0 flex items-center justify-center",children:t.thumbnail_url?(0,C.jsx)("img",{src:t.thumbnail_url,alt:t.title,className:"w-full h-full object-cover rounded-lg"}):(0,C.jsx)(n.A,{className:"h-8 w-8 text-white opacity-75"})}),(0,C.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,C.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,C.jsx)("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors cursor-pointer",children:t.title}),(0,C.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,C.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"}[t.difficulty_level]}`,children:t.difficulty_level}),t.is_featured&&(0,C.jsxs)("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center",children:[(0,C.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"Featured"]})]})]}),(0,C.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),(0,C.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-3 space-x-6",children:[(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)(v.A,{className:"h-4 w-4 mr-1"}),t.instructor]}),(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)(f.A,{className:"h-4 w-4 mr-1"}),t.duration_hours,"h"]}),(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)(v.A,{className:"h-4 w-4 mr-1"}),t.enrollment_count," students"]}),(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)(j.A,{className:"h-4 w-4 mr-1 text-yellow-500 fill-current"}),(null===(s=t.rating)||void 0===s?void 0:s.toFixed(1))||"N/A"]})]}),a&&"student"===(null===r||void 0===r?void 0:r.role)&&(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,C.jsx)("span",{children:"Progress"}),(0,C.jsxs)("span",{children:[Math.round(c),"%"]})]}),(0,C.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,C.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(l=t.tags)||void 0===l?void 0:l.slice(0,3).map((e,s)=>(0,C.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:e},s))}),"admin"===(null===r||void 0===r?void 0:r.role)?(0,C.jsxs)("button",{onClick:()=>u(`/course/${t.id}`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,C.jsx)(y,{className:"h-4 w-4 mr-2"}),"Manage"]}):a?(0,C.jsxs)("button",{onClick:()=>u(`/course/${t.id}`),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,C.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Continue"]}):(0,C.jsx)("button",{onClick:d,disabled:o,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:o?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enrolling..."]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Enroll"]})})]})]})]})})},E=e=>{let{onClose:s,onSuccess:l}=e;const[r,a]=(0,t.useState)({title:"",description:"",instructor:"",duration_hours:"",difficulty_level:"beginner",category:"",tags:""}),[n,o]=(0,t.useState)(!1),d=e=>{a({...r,[e.target.name]:e.target.value})};return(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,C.jsx)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,C.jsxs)("div",{className:"p-6",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Course"}),(0,C.jsx)("p",{className:"text-gray-600 mt-1",children:"Add a new course to the platform"})]}),(0,C.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors p-2",children:(0,C.jsx)(c.A,{className:"h-6 w-6"})})]}),(0,C.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{const e={...r,duration_hours:parseFloat(r.duration_hours),tags:r.tags.split(",").map(e=>e.trim()).filter(Boolean)};await w.GS.createCourse(e),k.Ay.success("Course created successfully!"),l()}catch(s){(0,w.hS)(s)}finally{o(!1)}},className:"space-y-6",children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,C.jsxs)("div",{className:"md:col-span-2",children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Title *"}),(0,C.jsx)("input",{type:"text",name:"title",value:r.title,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter an engaging course title"})]}),(0,C.jsxs)("div",{className:"md:col-span-2",children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,C.jsx)("textarea",{name:"description",value:r.description,onChange:d,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Describe what students will learn in this course"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor *"}),(0,C.jsx)("input",{type:"text",name:"instructor",value:r.instructor,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Instructor name"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,C.jsx)("input",{type:"text",name:"category",value:r.category,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g., Programming, Design, Business"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours) *"}),(0,C.jsx)("input",{type:"number",name:"duration_hours",value:r.duration_hours,onChange:d,required:!0,min:"0.5",step:"0.5",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g., 10.5"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level *"}),(0,C.jsxs)("select",{name:"difficulty_level",value:r.difficulty_level,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[(0,C.jsx)("option",{value:"beginner",children:"Beginner"}),(0,C.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,C.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,C.jsxs)("div",{className:"md:col-span-2",children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,C.jsx)("input",{type:"text",name:"tags",value:r.tags,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter tags separated by commas (e.g., JavaScript, React, Frontend)"}),(0,C.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Separate multiple tags with commas to help students find your course"})]})]}),(0,C.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,C.jsx)("button",{type:"button",onClick:s,className:"px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),(0,C.jsx)("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center",children:n?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Create Course"]})})]})]})]})})})},M=e=>{let{icon:s,title:l,description:t,action:r}=e;return(0,C.jsxs)("div",{className:"text-center py-16",children:[(0,C.jsx)(s,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,C.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:l}),(0,C.jsx)("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:t}),r&&r]})},F=e=>{let{user:s}=e;const[l,d]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[p,f]=(0,t.useState)(!0),[v,j]=(0,t.useState)(new Set),[N,F]=(0,r.ok)(),[D,L]=(0,t.useState)("grid"),[q,P]=(0,t.useState)(!1),[B,H]=(0,t.useState)(!1),$=(0,a.Zp)(),[G,R]=(0,t.useState)({search:N.get("search")||"",difficulty:N.get("difficulty")||"all",category:N.get("category")||"all",rating:N.get("rating")||"all",duration:N.get("duration")||"all",sort:N.get("sort")||"newest"});(0,t.useEffect)(()=>{z(),"student"===(null===s||void 0===s?void 0:s.role)&&I()},[s]),(0,t.useEffect)(()=>{const e=new URLSearchParams;Object.entries(G).forEach(s=>{let[l,t]=s;t&&"all"!==t&&e.set(l,t)}),F(e)},[G,F]);const z=async()=>{try{const e=await w.GS.getCourses();d(e)}catch(e){(0,w.hS)(e)}finally{f(!1)}},I=async()=>{try{const e=await w.GS.getMyEnrollments();y(e)}catch(e){(0,w.hS)(e)}},O=async e=>{j(s=>new Set(s).add(e));try{await w.GS.enrollCourse(e),k.Ay.success("Enrolled successfully!"),I()}catch(s){(0,w.hS)(s)}finally{j(s=>{const l=new Set(s);return l.delete(e),l})}},T=e=>b.some(s=>s.course_id===e),Z=e=>{const s=b.find(s=>s.course_id===e);return s?s.progress_percentage:0},U=(0,t.useMemo)(()=>{let e=l.filter(e=>{const s=e.title.toLowerCase().includes(G.search.toLowerCase())||e.description.toLowerCase().includes(G.search.toLowerCase())||e.instructor.toLowerCase().includes(G.search.toLowerCase()),l="all"===G.difficulty||e.difficulty_level===G.difficulty,t="all"===G.category||e.category===G.category,r="all"===G.rating||e.rating>=parseFloat(G.rating),a="all"===G.duration||"short"===G.duration&&e.duration_hours<=5||"medium"===G.duration&&e.duration_hours>5&&e.duration_hours<=20||"long"===G.duration&&e.duration_hours>20;return s&&l&&t&&r&&a});return e.sort((e,s)=>{switch(G.sort){case"newest":return new Date(s.created_at)-new Date(e.created_at);case"oldest":return new Date(e.created_at)-new Date(s.created_at);case"rating":return s.rating-e.rating;case"popularity":return s.enrollment_count-e.enrollment_count;case"title":return e.title.localeCompare(s.title);case"duration":return e.duration_hours-s.duration_hours;default:return 0}}),e},[l,G]),V=[...new Set(l.map(e=>e.category).filter(Boolean))];return p?(0,C.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),(0,C.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading courses..."})]})}):(0,C.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[(0,C.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-100",children:(0,C.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,C.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,C.jsxs)("div",{className:"flex items-center space-x-4 mb-4 lg:mb-0",children:[(0,C.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-xl shadow-lg",children:(0,C.jsx)(n.A,{className:"h-8 w-8 text-white"})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-blue-900 bg-clip-text text-transparent",children:"Course Catalog"}),(0,C.jsxs)("p",{className:"text-gray-600 mt-1",children:["Discover ",l.length," courses tailored for your growth"]})]})]}),(0,C.jsx)("div",{className:"flex items-center space-x-3",children:"admin"===(null===s||void 0===s?void 0:s.role)&&(0,C.jsxs)("button",{onClick:()=>P(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg",children:[(0,C.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Create Course"]})})]})})}),(0,C.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,C.jsx)("div",{className:"mb-8",children:(0,C.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[(0,C.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-4",children:[(0,C.jsxs)("div",{className:"flex-1 relative",children:[(0,C.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,C.jsx)("input",{type:"text",placeholder:"Search courses, instructors, or topics...",value:G.search,onChange:e=>R(s=>({...s,search:e.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),G.search&&(0,C.jsx)("button",{onClick:()=>R(e=>({...e,search:""})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,C.jsx)(c.A,{className:"h-4 w-4"})})]}),(0,C.jsxs)("button",{onClick:()=>H(!B),className:"flex items-center px-4 py-3 border rounded-lg transition-all "+(B?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,C.jsx)(u,{className:"h-4 w-4 mr-2"}),"Filters",(0,C.jsx)(x.A,{className:"h-4 w-4 ml-2 transition-transform "+(B?"rotate-180":"")})]})]}),B&&(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 pt-4 border-t border-gray-200",children:[(0,C.jsx)(A,{label:"Difficulty",value:G.difficulty,onChange:e=>R(s=>({...s,difficulty:e})),options:[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}]}),(0,C.jsx)(A,{label:"Category",value:G.category,onChange:e=>R(s=>({...s,category:e})),options:[{value:"all",label:"All Categories"},...V.map(e=>({value:e,label:e}))]}),(0,C.jsx)(A,{label:"Rating",value:G.rating,onChange:e=>R(s=>({...s,rating:e})),options:[{value:"all",label:"Any Rating"},{value:"4",label:"4+ Stars"},{value:"3",label:"3+ Stars"},{value:"2",label:"2+ Stars"}]}),(0,C.jsx)(A,{label:"Duration",value:G.duration,onChange:e=>R(s=>({...s,duration:e})),options:[{value:"all",label:"Any Duration"},{value:"short",label:"Short (\u22645h)"},{value:"medium",label:"Medium (5-20h)"},{value:"long",label:"Long (20h+)"}]}),(0,C.jsx)(A,{label:"Sort By",value:G.sort,onChange:e=>R(s=>({...s,sort:e})),options:[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"rating",label:"Highest Rated"},{value:"popularity",label:"Most Popular"},{value:"title",label:"Alphabetical"},{value:"duration",label:"Shortest First"}]})]})]})}),(0,C.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,C.jsxs)("div",{children:[(0,C.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[U.length," ",1===U.length?"Course":"Courses"," Found"]}),Object.values(G).some(e=>e&&"all"!==e&&"newest"!==e)&&(0,C.jsx)("button",{onClick:()=>R({search:"",difficulty:"all",category:"all",rating:"all",duration:"all",sort:"newest"}),className:"text-sm text-blue-600 hover:text-blue-700 mt-1",children:"Clear all filters"})]}),(0,C.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,C.jsx)("button",{onClick:()=>L("grid"),className:"p-2 rounded-lg transition-colors "+("grid"===D?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"),children:(0,C.jsx)(m,{className:"h-5 w-5"})}),(0,C.jsx)("button",{onClick:()=>L("list"),className:"p-2 rounded-lg transition-colors "+("list"===D?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"),children:(0,C.jsx)(g.A,{className:"h-5 w-5"})})]})]}),U.length>0?(0,C.jsx)("div",{className:"grid"===D?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:U.map(e=>"grid"===D?(0,C.jsx)(_,{course:e,user:s,isEnrolled:T(e.id),isEnrolling:v.has(e.id),progress:Z(e.id),onEnroll:()=>O(e.id),onEdit:()=>console.log("Edit course:",e.id),onDelete:()=>console.log("Delete course:",e.id),navigate:$},e.id):(0,C.jsx)(S,{course:e,user:s,isEnrolled:T(e.id),isEnrolling:v.has(e.id),progress:Z(e.id),onEnroll:()=>O(e.id),navigate:$},e.id))}):(0,C.jsx)(M,{icon:h.A,title:"No courses found",description:Object.values(G).some(e=>e&&"all"!==e&&"newest"!==e)?"Try adjusting your search criteria or filters":"No courses available yet",action:(0,C.jsx)("button",{onClick:()=>R({search:"",difficulty:"all",category:"all",rating:"all",duration:"all",sort:"newest"}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear Filters"})})]}),q&&(0,C.jsx)(E,{onClose:()=>P(!1),onSuccess:()=>{P(!1),z()}})]})}},8112:(e,s,l)=>{l.d(s,{A:()=>t});const t=(0,l(3797).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}}]);
//# sourceMappingURL=533.629e9c34.chunk.js.map