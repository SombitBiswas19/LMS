"use strict";(self.webpackChunklearnalytics_frontend=self.webpackChunklearnalytics_frontend||[]).push([[597],{917:(e,s,t)=>{t.d(s,{A:()=>l});const l=(0,t(3797).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},3458:(e,s,t)=>{t.d(s,{A:()=>l});const l=(0,t(3797).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4978:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var l=t(5043),a=t(3216),r=t(917),i=t(3797);const n=(0,i.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var c=t(7607),d=t(3458);const o=(0,i.A)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var x=t(6514),m=t(9621),h=t(3768),u=t(579);const g=e=>{let{user:s,onLogout:t}=e;const{courseId:i,quizId:g}=(0,a.g)(),b=(0,a.Zp)(),[j,y]=(0,l.useState)(null),[N,v]=(0,l.useState)(null),[p,f]=(0,l.useState)(0),[w,k]=(0,l.useState)({}),[C,q]=(0,l.useState)(0),[A,S]=(0,l.useState)(!1),[z,Q]=(0,l.useState)(!1),[M,_]=(0,l.useState)(null),[I,R]=(0,l.useState)(!0);(0,l.useEffect)(()=>{$()},[i,g]),(0,l.useEffect)(()=>{let e;return A&&!z&&C>0&&(e=setInterval(()=>{q(e=>e<=1?(L(),0):e-1)},1e3)),()=>clearInterval(e)},[A,z,C]);const $=async()=>{try{const[e,s]=await Promise.all([m.GS.getQuizzes(i),m.GS.getCourse(i)]),t=e.find(e=>e.id===parseInt(g));y(t),v(s),t&&q(60*t.time_limit_minutes)}catch(e){(0,m.hS)(e)}finally{R(!1)}},G=()=>{S(!0)},L=async()=>{try{const e=(60*j.time_limit_minutes-C)/60,s=j.questions.map((e,s)=>w[s]||{answer:null}),t=await m.GS.attemptQuiz(parseInt(i),parseInt(g),s,e);_(t),Q(!0),h.Ay.success("Quiz submitted successfully!")}catch(e){(0,m.hS)(e)}},O=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600";if(I)return(0,u.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,u.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!j)return(0,u.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Quiz not found"}),(0,u.jsx)("button",{onClick:()=>b("/courses"),className:"text-blue-600 hover:text-blue-700",children:"Back to Courses"})]})});if(z&&M)return(0,u.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,u.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-blue-100 flex items-center justify-center",children:(0,u.jsx)(r.A,{className:"h-10 w-10 text-blue-600"})}),(0,u.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Quiz Completed!"}),(0,u.jsxs)("p",{className:"text-gray-600",children:[null===N||void 0===N?void 0:N.title," - ",j.title]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,u.jsxs)("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[(0,u.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:M.score.toFixed(1)}),(0,u.jsx)("div",{className:"text-sm text-gray-600",children:"Score"})]}),(0,u.jsxs)("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[(0,u.jsxs)("div",{className:`text-2xl font-bold mb-1 ${O(M.percentage)}`,children:[M.percentage.toFixed(1),"%"]}),(0,u.jsx)("div",{className:"text-sm text-gray-600",children:"Percentage"})]}),(0,u.jsxs)("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[(0,u.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:j.questions.length}),(0,u.jsx)("div",{className:"text-sm text-gray-600",children:"Total Questions"})]})]}),(0,u.jsx)("div",{className:"text-center mb-8",children:(0,u.jsx)("p",{className:`text-xl font-semibold ${O(M.percentage)}`,children:(P=M.percentage,P>=80?"Excellent work! \ud83c\udf89":P>=60?"Good job! \ud83d\udc4d":"Keep practicing! \ud83d\udcaa")})}),(0,u.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,u.jsx)("button",{onClick:()=>b("/courses"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Courses"}),(0,u.jsxs)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[(0,u.jsx)(n,{className:"h-4 w-4 mr-2"}),"Retake Quiz"]})]})]})})});var P;if(!A)return(0,u.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,u.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsxs)("button",{onClick:()=>b("/courses"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[(0,u.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Back to Course"]}),(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:j.title}),(0,u.jsx)("p",{className:"text-gray-600",children:null===N||void 0===N?void 0:N.title})]}),(0,u.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex items-center mb-2",children:[(0,u.jsx)(d.A,{className:"h-5 w-5 text-gray-500 mr-2"}),(0,u.jsx)("span",{className:"font-medium text-gray-900",children:"Time Limit"})]}),(0,u.jsxs)("p",{className:"text-gray-600",children:[j.time_limit_minutes," minutes"]})]}),(0,u.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex items-center mb-2",children:[(0,u.jsx)(o,{className:"h-5 w-5 text-gray-500 mr-2"}),(0,u.jsx)("span",{className:"font-medium text-gray-900",children:"Questions"})]}),(0,u.jsxs)("p",{className:"text-gray-600",children:[j.questions.length," questions"]})]})]}),(0,u.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,u.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Instructions:"}),(0,u.jsxs)("ul",{className:"text-blue-800 text-sm space-y-1",children:[(0,u.jsx)("li",{children:"\u2022 Read each question carefully before answering"}),(0,u.jsx)("li",{children:"\u2022 You can navigate between questions using the Next/Previous buttons"}),(0,u.jsx)("li",{children:"\u2022 Make sure to submit your quiz before time runs out"}),(0,u.jsx)("li",{children:"\u2022 Once submitted, you cannot change your answers"})]})]})]}),(0,u.jsx)("div",{className:"text-center",children:(0,u.jsx)("button",{onClick:G,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Start Quiz"})})]})})});const B=j.questions[p];return(0,u.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,u.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mb-6 p-6",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:j.title}),(0,u.jsxs)("p",{className:"text-gray-600",children:["Question ",p+1," of ",j.questions.length]})]}),(0,u.jsxs)("div",{className:"text-right",children:[(0,u.jsx)("div",{className:"text-2xl font-bold "+(C<300?"text-red-600":"text-gray-900"),children:(E=C,`${Math.floor(E/60)}:${(E%60).toString().padStart(2,"0")}`)}),(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Time remaining"})]})]}),(0,u.jsx)("div",{className:"mt-4",children:(0,u.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,u.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:(p+1)/j.questions.length*100+"%"}})})})]}),(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,u.jsxs)("div",{className:"mb-8",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:B.question}),(0,u.jsx)("div",{className:"space-y-4",children:B.options.map((e,s)=>{var t;return(0,u.jsxs)("label",{className:"flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[(0,u.jsx)("input",{type:"radio",name:`question-${p}`,value:e,checked:(null===(t=w[p])||void 0===t?void 0:t.answer)===e,onChange:()=>{return s=p,t=e,void k({...w,[s]:{answer:t}});var s,t},className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,u.jsx)("span",{className:"ml-3 text-gray-900",children:e})]},s)})})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("button",{onClick:()=>f(Math.max(0,p-1)),disabled:0===p,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,u.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,u.jsx)("div",{className:"flex items-center space-x-2",children:j.questions.map((e,s)=>(0,u.jsx)("button",{onClick:()=>f(s),className:"w-8 h-8 rounded-full text-sm font-medium transition-colors "+(s===p?"bg-blue-600 text-white":w[s]?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:s+1},s))}),p===j.questions.length-1?(0,u.jsx)("button",{onClick:L,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Submit Quiz"}):(0,u.jsxs)("button",{onClick:()=>f(Math.min(j.questions.length-1,p+1)),className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:["Next",(0,u.jsx)(x.A,{className:"h-4 w-4 ml-2"})]})]})]}),(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mt-6 p-6",children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Question Overview"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"w-4 h-4 bg-green-100 rounded mr-2"}),(0,u.jsxs)("span",{className:"text-gray-600",children:["Answered: ",Object.keys(w).length]})]}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded mr-2"}),(0,u.jsxs)("span",{className:"text-gray-600",children:["Remaining: ",j.questions.length-Object.keys(w).length]})]}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"w-4 h-4 bg-blue-600 rounded mr-2"}),(0,u.jsx)("span",{className:"text-gray-600",children:"Current"})]}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(d.A,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,u.jsxs)("span",{className:"text-gray-600",children:[j.total_points," points total"]})]})]})]})]})});var E}},6514:(e,s,t)=>{t.d(s,{A:()=>l});const l=(0,t(3797).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7607:(e,s,t)=>{t.d(s,{A:()=>l});const l=(0,t(3797).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}}]);
//# sourceMappingURL=597.7bda6184.chunk.js.map